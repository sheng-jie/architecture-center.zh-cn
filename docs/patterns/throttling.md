---
title: "限制"
description: "控制应用程序实例、单个租户或整个服务使用的资源的消耗。"
keywords: "设计模式"
author: dragon119
ms.date: 06/23/2017
pnp.series.title: Cloud Design Patterns
pnp.pattern.categories:
- availability
- performance-scalability
ms.openlocfilehash: 29156fc72f40a952dd53adcb20ffa7c3d0af79b4
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/14/2017
---
# <a name="throttling-pattern"></a><span data-ttu-id="47fd5-104">限制模式</span><span class="sxs-lookup"><span data-stu-id="47fd5-104">Throttling pattern</span></span>

[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="47fd5-105">控制应用程序实例、单个租户或整个服务使用的资源的消耗。</span><span class="sxs-lookup"><span data-stu-id="47fd5-105">Control the consumption of resources used by an instance of an application, an individual tenant, or an entire service.</span></span> <span data-ttu-id="47fd5-106">这样，即使需求增加给资源带来了极大的负载，系统也可以继续运行以满足服务级别协议。</span><span class="sxs-lookup"><span data-stu-id="47fd5-106">This can allow the system to continue to function and meet service level agreements, even when an increase in demand places an extreme load on resources.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="47fd5-107">上下文和问题</span><span class="sxs-lookup"><span data-stu-id="47fd5-107">Context and problem</span></span>

<span data-ttu-id="47fd5-108">云应用程序上的负载通常根据活动用户的数目或其执行的活动的类型随时间而变。</span><span class="sxs-lookup"><span data-stu-id="47fd5-108">The load on a cloud application typically varies over time based on the number of active users or the types of activities they are performing.</span></span> <span data-ttu-id="47fd5-109">例如，在营业时间内可能有更多用户处于活动状态，而系统在每个月末可能需要执行计算成本高昂的分析。</span><span class="sxs-lookup"><span data-stu-id="47fd5-109">For example, more users are likely to be active during business hours, or the system might be required to perform computationally expensive analytics at the end of each month.</span></span> <span data-ttu-id="47fd5-110">还可能会突然出现意外的活动量激增。</span><span class="sxs-lookup"><span data-stu-id="47fd5-110">There might also be sudden and unanticipated bursts in activity.</span></span> <span data-ttu-id="47fd5-111">如果系统的处理要求超出了可用资源的容量，则系统性能将降低甚至会失败。</span><span class="sxs-lookup"><span data-stu-id="47fd5-111">If the processing requirements of the system exceed the capacity of the resources that are available, it'll suffer from poor performance and can even fail.</span></span> <span data-ttu-id="47fd5-112">如果系统必须满足约定的服务级别，则这样的故障可能不可接受。</span><span class="sxs-lookup"><span data-stu-id="47fd5-112">If the system has to meet an agreed level of service, such failure could be unacceptable.</span></span>

<span data-ttu-id="47fd5-113">有许多策略可用于处理云中的各种负载，具体取决于应用程序的业务目标。</span><span class="sxs-lookup"><span data-stu-id="47fd5-113">There're many strategies available for handling varying load in the cloud, depending on the business goals for the application.</span></span> <span data-ttu-id="47fd5-114">其中一个策略是使用自动缩放随时将预配的资源与用户需求进行匹配。</span><span class="sxs-lookup"><span data-stu-id="47fd5-114">One strategy is to use autoscaling to match the provisioned resources to the user needs at any given time.</span></span> <span data-ttu-id="47fd5-115">这可以持续满足用户需求，同时优化运行成本。</span><span class="sxs-lookup"><span data-stu-id="47fd5-115">This has the potential to consistently meet user demand, while optimizing running costs.</span></span> <span data-ttu-id="47fd5-116">不过，虽然自动缩放可以触发附加资源的预配，但此预配不是即时的。</span><span class="sxs-lookup"><span data-stu-id="47fd5-116">However, while autoscaling can trigger the provisioning of additional resources, this provisioning isn't immediate.</span></span> <span data-ttu-id="47fd5-117">如果需求增长快速，则可能有一段时间会出现资源不足。</span><span class="sxs-lookup"><span data-stu-id="47fd5-117">If demand grows quickly, there can be a window of time where there's a resource deficit.</span></span>

## <a name="solution"></a><span data-ttu-id="47fd5-118">解决方案</span><span class="sxs-lookup"><span data-stu-id="47fd5-118">Solution</span></span>

<span data-ttu-id="47fd5-119">自动缩放的一个替代策略是仅允许应用程序使用某个限制内的资源，当达到该限制时会对资源进行限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-119">An alternative strategy to autoscaling is to allow applications to use resources only up to a limit, and then throttle them when this limit is reached.</span></span> <span data-ttu-id="47fd5-120">系统应当监视其对资源的使用情况，以便在使用量超出阈值时可以限制来自一个或多个用户的请求。</span><span class="sxs-lookup"><span data-stu-id="47fd5-120">The system should monitor how it's using resources so that, when usage exceeds the threshold, it can throttle requests from one or more users.</span></span> <span data-ttu-id="47fd5-121">这将使系统可以继续正常工作并满足所实施的所有服务级别协议 (SLA)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-121">This will enable the system to continue functioning and meet any service level agreements (SLAs) that are in place.</span></span> <span data-ttu-id="47fd5-122">有关监视资源使用情况的详细信息，请参阅[检测和遥测指南](https://msdn.microsoft.com/library/dn589775.aspx)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-122">For more information on monitoring resource usage, see the [Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span>

<span data-ttu-id="47fd5-123">系统可以实现多个限制策略，包括：</span><span class="sxs-lookup"><span data-stu-id="47fd5-123">The system could implement several throttling strategies, including:</span></span>

- <span data-ttu-id="47fd5-124">如果用户在给定时间段内访问系统 API 的频率超过了每秒 n 次，则拒绝来自该用户的请求。</span><span class="sxs-lookup"><span data-stu-id="47fd5-124">Rejecting requests from an individual user who's already accessed system APIs more than n times per second over a given period of time.</span></span> <span data-ttu-id="47fd5-125">这要求系统对运行应用程序的每个租户或用户使用的资源量进行计量。</span><span class="sxs-lookup"><span data-stu-id="47fd5-125">This requires the system to meter the use of resources for each tenant or user running an application.</span></span> <span data-ttu-id="47fd5-126">有关详细信息，请参阅 [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx)（服务计量指南）。</span><span class="sxs-lookup"><span data-stu-id="47fd5-126">For more information, see the [Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span>

- <span data-ttu-id="47fd5-127">禁用所选非基本服务的功能或将其降级，以便基本服务可以使用充足的资源畅通运行。</span><span class="sxs-lookup"><span data-stu-id="47fd5-127">Disabling or degrading the functionality of selected nonessential services so that essential services can run unimpeded with sufficient resources.</span></span> <span data-ttu-id="47fd5-128">例如，如果应用程序对视频输出进行流式处理，则可以切换到较低的分辨率。</span><span class="sxs-lookup"><span data-stu-id="47fd5-128">For example, if the application is streaming video output, it could switch to a lower resolution.</span></span>

- <span data-ttu-id="47fd5-129">使用负载调节来均衡活动量（[基于队列的负载调节模式](queue-based-load-leveling.md)中更详细地介绍了此方法）。</span><span class="sxs-lookup"><span data-stu-id="47fd5-129">Using load leveling to smooth the volume of activity (this approach is covered in more detail by the [Queue-based Load Leveling pattern](queue-based-load-leveling.md)).</span></span> <span data-ttu-id="47fd5-130">在多租户环境中，此方法会降低每个租户的性能。</span><span class="sxs-lookup"><span data-stu-id="47fd5-130">In a multi-tenant environment, this approach will reduce the performance for every tenant.</span></span> <span data-ttu-id="47fd5-131">如果系统必须支持混合使用具有不同 SLA 的租户，则高值租户的工作可以立即执行。</span><span class="sxs-lookup"><span data-stu-id="47fd5-131">If the system must support a mix of tenants with different SLAs, the work for high-value tenants might be performed immediately.</span></span> <span data-ttu-id="47fd5-132">其他租户的请求可以推迟，并在积压工作得到缓解时再进行处理。</span><span class="sxs-lookup"><span data-stu-id="47fd5-132">Requests for other tenants can be held back, and handled when the backlog has eased.</span></span> <span data-ttu-id="47fd5-133">可以使用[优先级队列模式][]来帮助实现此方法。</span><span class="sxs-lookup"><span data-stu-id="47fd5-133">The [Priority Queue pattern][] could be used to help implement this approach.</span></span>

- <span data-ttu-id="47fd5-134">推迟以低优先级应用程序或租户的身份执行的操作。</span><span class="sxs-lookup"><span data-stu-id="47fd5-134">Deferring operations being performed on behalf of lower priority applications or tenants.</span></span> <span data-ttu-id="47fd5-135">可以暂停或限制这些操作，但是要生成一个异常来通知租户系统正忙并且应当稍后重试该操作。</span><span class="sxs-lookup"><span data-stu-id="47fd5-135">These operations can be suspended or limited, with an exception generated to inform the tenant that the system is busy and that the operation should be retried later.</span></span>

<span data-ttu-id="47fd5-136">下图显示了一个面积图，其中显示了使用三项功能的应用程序在一段时间内的资源使用情况（包括内存、CPU、带宽和其他因素）。</span><span class="sxs-lookup"><span data-stu-id="47fd5-136">The figure shows an area graph for resource use (a combination of memory, CPU, bandwidth, and other factors) against time for applications that are making use of three features.</span></span> <span data-ttu-id="47fd5-137">一项功能是一个功能区域，例如，执行一组特定任务的组件、执行复杂计算的代码段，或者提供内存中缓存等服务的元素。</span><span class="sxs-lookup"><span data-stu-id="47fd5-137">A feature is an area of functionality, such as a component that performs a specific set of tasks, a piece of code that performs a complex calculation, or an element that provides a service such as an in-memory cache.</span></span> <span data-ttu-id="47fd5-138">这些功能的标签为 A、B 和 C。</span><span class="sxs-lookup"><span data-stu-id="47fd5-138">These features are labeled A, B, and C.</span></span>

![图 1 - 图中显示了以三个用户的身份运行的应用程序在一段时间内的资源使用情况。](./_images/throttling-resource-utilization.png)


> <span data-ttu-id="47fd5-140">代表某项功能的线条正下方的区域表示应用程序在调用此功能时使用的资源。</span><span class="sxs-lookup"><span data-stu-id="47fd5-140">The area immediately below the line for a feature indicates the resources that are used by applications when they invoke this feature.</span></span> <span data-ttu-id="47fd5-141">例如，代表功能 A 的线条下方的区域显示了使用功能 A 的应用程序使用的资源，代表功能 A 和功能 B 的线条之间的区域表示调用功能 B 的应用程序使用的资源。将每个功能的区域聚合起来将显示系统的资源使用总量。</span><span class="sxs-lookup"><span data-stu-id="47fd5-141">For example, the area below the line for Feature A shows the resources used by applications that are making use of Feature A, and the area between the lines for Feature A and Feature B indicates the resources used by applications invoking Feature B. Aggregating the areas for each feature shows the total resource use of the system.</span></span>

<span data-ttu-id="47fd5-142">上图阐释了推迟操作的效果。</span><span class="sxs-lookup"><span data-stu-id="47fd5-142">The previous figure illustrates the effects of deferring operations.</span></span> <span data-ttu-id="47fd5-143">恰好在时间 T1 之前，分配给使用这些功能的所有应用程序的资源达到了阈值（资源使用量限制）。</span><span class="sxs-lookup"><span data-stu-id="47fd5-143">Just prior to time T1, the total resources allocated to all applications using these features reach a threshold (the limit of resource use).</span></span> <span data-ttu-id="47fd5-144">此时，这些应用程序处于耗尽可用资源的危险中。</span><span class="sxs-lookup"><span data-stu-id="47fd5-144">At this point, the applications are in danger of exhausting the resources available.</span></span> <span data-ttu-id="47fd5-145">在此系统中，功能 B 没有功能 A 或功能 C 重要，因此已暂时将其禁用并释放其使用的资源。</span><span class="sxs-lookup"><span data-stu-id="47fd5-145">In this system, Feature B is less critical than Feature A or Feature C, so it's temporarily disabled and the resources that it was using are released.</span></span> <span data-ttu-id="47fd5-146">在时间 T1 和 T2 之间，使用功能 A 和功能 C 的应用程序继续正常运行。</span><span class="sxs-lookup"><span data-stu-id="47fd5-146">Between times T1 and T2, the applications using Feature A and Feature C continue running as normal.</span></span> <span data-ttu-id="47fd5-147">最终，这两项功能的资源使用量降低，到时间 T2 时已有足够的容量使功能 B 重新运行。</span><span class="sxs-lookup"><span data-stu-id="47fd5-147">Eventually, the resource use of these two features diminishes to the point when, at time T2, there is sufficient capacity to enable Feature B again.</span></span>

<span data-ttu-id="47fd5-148">还可以组合使用自动缩放和限制方法来帮助保持应用程序的响应能力并满足 SLA。</span><span class="sxs-lookup"><span data-stu-id="47fd5-148">The autoscaling and throttling approaches can also be combined to help keep the applications responsive and within SLAs.</span></span> <span data-ttu-id="47fd5-149">如果预计需求会保持在高位，则在系统横向扩展期间，限制是一种临时解决方案。此时，可以还原系统的完整功能。</span><span class="sxs-lookup"><span data-stu-id="47fd5-149">If the demand is expected to remain high, throttling provides a temporary solution while the system scales out. At this point, the full functionality of the system can be restored.</span></span>

<span data-ttu-id="47fd5-150">下图显示了一个面积图，其中显示了在系统中运行的所有应用程序在一段时间内使用的总体资源，并且展示了可以如何将限制与自动缩放组合使用。</span><span class="sxs-lookup"><span data-stu-id="47fd5-150">The next figure shows an area graph of the overall resource use by all applications running in a system against time, and illustrates how throttling can be combined with autoscaling.</span></span>

![图 2 - 图中显示了将限制与自动缩放组合使用时的效果](./_images/throttling-autoscaling.png)


<span data-ttu-id="47fd5-152">在时间 T1，达到了指定了资源使用量软限制的阈值。</span><span class="sxs-lookup"><span data-stu-id="47fd5-152">At time T1, the threshold specifying the soft limit of resource use is reached.</span></span> <span data-ttu-id="47fd5-153">此时，系统可以开始横向扩展。不过，如果新资源没有足够快速地变得可用，则可能会耗尽现有资源，并且系统可能会失败。</span><span class="sxs-lookup"><span data-stu-id="47fd5-153">At this point, the system can start to scale out. However, if the new resources don't become available quickly enough, then the existing resources might be exhausted and the system could fail.</span></span> <span data-ttu-id="47fd5-154">为防止发生此情况，会暂时对系统进行限制，如上文所述。</span><span class="sxs-lookup"><span data-stu-id="47fd5-154">To prevent this from occurring, the system is temporarily throttled, as described earlier.</span></span> <span data-ttu-id="47fd5-155">当自动缩放已完成并且附加的资源可用时，可以放宽限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-155">When autoscaling has completed and the additional resources are available, throttling can be relaxed.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="47fd5-156">问题和注意事项</span><span class="sxs-lookup"><span data-stu-id="47fd5-156">Issues and considerations</span></span>

<span data-ttu-id="47fd5-157">在决定如何实现此模式时，应考虑以下几点：</span><span class="sxs-lookup"><span data-stu-id="47fd5-157">You should consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="47fd5-158">限制应用程序和要使用的策略是一个体系结构决策，它影响系统的整体设计。</span><span class="sxs-lookup"><span data-stu-id="47fd5-158">Throttling an application, and the strategy to use, is an architectural decision that impacts the entire design of a system.</span></span> <span data-ttu-id="47fd5-159">在应用程序设计过程中应尽早考虑采用限制功能，因为在实施系统后不容易添加此功能。</span><span class="sxs-lookup"><span data-stu-id="47fd5-159">Throttling should be considered early in the application design process because it isn't easy to add once a system has been implemented.</span></span>

- <span data-ttu-id="47fd5-160">限制必须快速执行。</span><span class="sxs-lookup"><span data-stu-id="47fd5-160">Throttling must be performed quickly.</span></span> <span data-ttu-id="47fd5-161">系统必须能够检测活动量增加并相应地作出反应。</span><span class="sxs-lookup"><span data-stu-id="47fd5-161">The system must be capable of detecting an increase in activity and react accordingly.</span></span> <span data-ttu-id="47fd5-162">在负载减轻后，系统还必须能够快速恢复其原始状态。</span><span class="sxs-lookup"><span data-stu-id="47fd5-162">The system must also be able to revert to its original state quickly after the load has eased.</span></span> <span data-ttu-id="47fd5-163">这需要持续捕获并监视相应的性能数据。</span><span class="sxs-lookup"><span data-stu-id="47fd5-163">This requires that the appropriate performance data is continually captured and monitored.</span></span>

- <span data-ttu-id="47fd5-164">如果某个服务需要暂时拒绝用户请求，则它应当返回一个特定的错误代码，以便客户端应用程序能够了解拒绝执行操作的原因是由于受到限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-164">If a service needs to temporarily deny a user request, it should return a specific error code so the client application understands that the reason for the refusal to perform an operation is due to throttling.</span></span> <span data-ttu-id="47fd5-165">客户端应用程序可以等待一段时间，然后重试请求。</span><span class="sxs-lookup"><span data-stu-id="47fd5-165">The client application can wait for a period before retrying the request.</span></span>

- <span data-ttu-id="47fd5-166">在系统进行自动缩放期间，可以使用限制作为临时措施。</span><span class="sxs-lookup"><span data-stu-id="47fd5-166">Throttling can be used as a temporary measure while a system autoscales.</span></span> <span data-ttu-id="47fd5-167">在某些情况下，如果活动量激增是突发性的并且预计不会持续太长时间，则仅进行限制而不进行缩放会更好，因为缩放可能会大大增加运行成本。</span><span class="sxs-lookup"><span data-stu-id="47fd5-167">In some cases it's better to simply throttle, rather than to scale, if a burst in activity is sudden and isn't expected to be long lived because scaling can add considerably to running costs.</span></span>

- <span data-ttu-id="47fd5-168">如果在系统进行自动缩放期间使用限制作为临时措施，并且资源需求增长非常快速，则&mdash;即使在受限制模式下运行，系统也可能无法继续正常工作。</span><span class="sxs-lookup"><span data-stu-id="47fd5-168">If throttling is being used as a temporary measure while a system autoscales, and if resource demands grow very quickly, the system might not be able to continue functioning&mdash;even when operating in a throttled mode.</span></span> <span data-ttu-id="47fd5-169">如果这不可接受，请考虑维护更大的容量预留并配置更积极的自动缩放。</span><span class="sxs-lookup"><span data-stu-id="47fd5-169">If this isn't acceptable, consider maintaining larger capacity reserves and configuring more aggressive autoscaling.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="47fd5-170">何时使用此模式</span><span class="sxs-lookup"><span data-stu-id="47fd5-170">When to use this pattern</span></span>

<span data-ttu-id="47fd5-171">使用此模式：</span><span class="sxs-lookup"><span data-stu-id="47fd5-171">Use this pattern:</span></span>

- <span data-ttu-id="47fd5-172">确保系统继续满足服务级别协议。</span><span class="sxs-lookup"><span data-stu-id="47fd5-172">To ensure that a system continues to meet service level agreements.</span></span>

- <span data-ttu-id="47fd5-173">防止单个租户独占应用程序提供的资源。</span><span class="sxs-lookup"><span data-stu-id="47fd5-173">To prevent a single tenant from monopolizing the resources provided by an application.</span></span>

- <span data-ttu-id="47fd5-174">处理活动量激增。</span><span class="sxs-lookup"><span data-stu-id="47fd5-174">To handle bursts in activity.</span></span>

- <span data-ttu-id="47fd5-175">通过限制使系统保持正常运行所需的最大资源级别，帮助对系统进行成本优化。</span><span class="sxs-lookup"><span data-stu-id="47fd5-175">To help cost-optimize a system by limiting the maximum resource levels needed to keep it functioning.</span></span>

## <a name="example"></a><span data-ttu-id="47fd5-176">示例</span><span class="sxs-lookup"><span data-stu-id="47fd5-176">Example</span></span>

<span data-ttu-id="47fd5-177">最后一图展示了如何在多租户系统中实现限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-177">The final figure illustrates how throttling can be implemented in a multi-tenant system.</span></span> <span data-ttu-id="47fd5-178">每个租户组织中的用户访问云托管的应用程序，并且在其中填写并提交调查。</span><span class="sxs-lookup"><span data-stu-id="47fd5-178">Users from each of the tenant organizations access a cloud-hosted application where they fill out and submit surveys.</span></span> <span data-ttu-id="47fd5-179">应用程序包含检测机制，用以监视这些用户向应用程序提交请求的速率。</span><span class="sxs-lookup"><span data-stu-id="47fd5-179">The application contains instrumentation that monitors the rate at which these users are submitting requests to the application.</span></span>

<span data-ttu-id="47fd5-180">为了防止一个租户中的用户影响应用程序对所有其他用户的响应能力和可用性，可以针对任何一个租户中的用户每秒可以提交的请求数施加限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-180">In order to prevent the users from one tenant affecting the responsiveness and availability of the application for all other users, a limit is applied to the number of requests per second the users from any one tenant can submit.</span></span> <span data-ttu-id="47fd5-181">应用程序会阻止超出了此限制的请求。</span><span class="sxs-lookup"><span data-stu-id="47fd5-181">The application blocks requests that exceed this limit.</span></span>

![图 3- 在多租户应用程序中实现限制](./_images/throttling-multi-tenant.png)


## <a name="related-patterns-and-guidance"></a><span data-ttu-id="47fd5-183">相关模式和指南</span><span class="sxs-lookup"><span data-stu-id="47fd5-183">Related patterns and guidance</span></span>

<span data-ttu-id="47fd5-184">实现此模式时，以下模式和指南也可能相关：</span><span class="sxs-lookup"><span data-stu-id="47fd5-184">The following patterns and guidance may also be relevant when implementing this pattern:</span></span>
- <span data-ttu-id="47fd5-185">[检测和遥测指南](https://msdn.microsoft.com/library/dn589775.aspx)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-185">[Instrumentation and Telemetry Guidance](https://msdn.microsoft.com/library/dn589775.aspx).</span></span> <span data-ttu-id="47fd5-186">若要进行限制，需要收集关于服务使用程度的信息。</span><span class="sxs-lookup"><span data-stu-id="47fd5-186">Throttling depends on gathering information about how heavily a service is being used.</span></span> <span data-ttu-id="47fd5-187">介绍了如何生成和捕获自定义监视信息。</span><span class="sxs-lookup"><span data-stu-id="47fd5-187">Describes how to generate and capture custom monitoring information.</span></span>
- <span data-ttu-id="47fd5-188">[服务计量指南](https://msdn.microsoft.com/library/dn589796.aspx)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-188">[Service Metering Guidance](https://msdn.microsoft.com/library/dn589796.aspx).</span></span> <span data-ttu-id="47fd5-189">介绍了如何计量服务使用量以便了解它们的使用情况。</span><span class="sxs-lookup"><span data-stu-id="47fd5-189">Describes how to meter the use of services in order to gain an understanding of how they are used.</span></span> <span data-ttu-id="47fd5-190">此信息可以用于确定如何对服务进行限制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-190">This information can be useful in determining how to throttle a service.</span></span>
- <span data-ttu-id="47fd5-191">[自动缩放指南](https://msdn.microsoft.com/library/dn589774.aspx)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-191">[Autoscaling Guidance](https://msdn.microsoft.com/library/dn589774.aspx).</span></span> <span data-ttu-id="47fd5-192">可以将限制用作系统进行自动缩放期间的临时措施，或者使用它消除系统进行自动缩放的需求。</span><span class="sxs-lookup"><span data-stu-id="47fd5-192">Throttling can be used as an interim measure while a system autoscales, or to remove the need for a system to autoscale.</span></span> <span data-ttu-id="47fd5-193">包含了关于自动缩放策略的信息。</span><span class="sxs-lookup"><span data-stu-id="47fd5-193">Contains information on autoscaling strategies.</span></span>
- <span data-ttu-id="47fd5-194">[基于队列的负载调节模式](queue-based-load-leveling.md)。</span><span class="sxs-lookup"><span data-stu-id="47fd5-194">[Queue-based Load Leveling pattern](queue-based-load-leveling.md).</span></span> <span data-ttu-id="47fd5-195">基于队列的负载调节是用于实现限制的常用机制。</span><span class="sxs-lookup"><span data-stu-id="47fd5-195">Queue-based load leveling is a commonly used mechanism for implementing throttling.</span></span> <span data-ttu-id="47fd5-196">队列可以充当缓冲区，用以帮助稳定将应用程序发送的请求提交到服务的速率。</span><span class="sxs-lookup"><span data-stu-id="47fd5-196">A queue can act as a buffer that helps to even out the rate at which requests sent by an application are delivered to a service.</span></span>
- <span data-ttu-id="47fd5-197">[优先级队列模式][]。</span><span class="sxs-lookup"><span data-stu-id="47fd5-197">[Priority Queue pattern][].</span></span> <span data-ttu-id="47fd5-198">系统可以使用优先级队列作为其限制策略的一部分来保持关键或高值应用程序的性能，同时降低不太重要的应用程序的性能。</span><span class="sxs-lookup"><span data-stu-id="47fd5-198">A system can use priority queuing as part of its throttling strategy to maintain performance for critical or higher value applications, while reducing the performance of less important applications.</span></span>

[优先级队列模式]: priority-queue.md